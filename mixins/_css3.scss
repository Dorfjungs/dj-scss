// Helper functions
//----------------------------------------------------------------------

$default-transition-property: all !default;
$default-transition-duration: 1s !default;
$default-transition-function: null !default;
$default-transition-delay: null !default;
$transitionable-prefixed-values: transform, transform-origin !default;

@function set-arglist-default($arglist, $default) {
    $default-index: index($arglist, default);

    @if $default-index {
        $arglist: set-nth($arglist, $default-index, $default);
    }

    @return if(length($arglist) > 0, $arglist, $default);
}

// Flexbox mixins
//----------------------------------------------------------------------

@mixin display-flex {
    display: flex;
    display: -ms-flexbox;
    display: -webkit-flex;
}

@mixin display-inline-flex {
    display: inline-flex;
    display: -ms-inline-flexbox;
    display: -webkit-inline-flex;
}

@mixin flex-direction($value: row) {
    -webkit-flex-direction: $value;
    -ms-flex-direction: $value;
    flex-direction: $value;
}

@mixin flex-wrap($value: nowrap) {
    -webkit-flex-wrap: $value;

    @if ($value == nowrap) {
        -ms-flex-wrap: none;
    }
    @else {
        -ms-flex-wrap: $value;
    }

    flex-wrap: $value;
}

@mixin flex-flow($value: (row nowrap)) {
    -webkit-flex-flow: $value;
    -ms-flex-flow: $value;
    flex-flow: $value;
}

@mixin order($value: 0) {
    -webkit-box-ordinal-group: $value + 1;
    -webkit-order: $value;
    -ms-flex-order: $value;
    order: $value;
}

@mixin flex($value: 1) {
    -webkit-flex: $value;
    -ms-flex: $value;
    flex: $value;
}

@mixin flex-shrink($value: 0) {
    -webkit-flex-shrink: $value;
    -ms-flex-negative: $value;
    flex-shrink: $value;
}

@mixin flex-grow($value: 0) {
    -webkit-flex-grow: $value;
    -ms-flex-positive: $value;
    flex-grow: $value;
}

@mixin flex-basis($value: auto) {
    -webkit-flex-basis: $value;
    -ms-flex-preferred-size: $value;
    flex-basis: $value;
}

@mixin align-items($value: stretch) {
    -webkit-align-items: $value;

    @if ($value == flex-start) {
        -ms-flex-align: start;
    }
    @else if ($value == flex-end) {
        -ms-flex-align: end;
    }
    @else {
        -ms-flex-align: $value;
    }

    align-items: $value;
}

@mixin align-self($value: auto) {
    -webkit-align-self: $value;

    @if ($value == flex-start) {
        -ms-flex-item-align: start;
    }
    @else if ($value == flex-end) {
        -ms-flex-item-align: end;
    }
    @else {
        -ms-flex-item-align: $value;
    }

    align-self: $value;
}

@mixin justify-content($value: flex-start) {
    -webkit-justify-content: $value;

    @if ($value == flex-start) {
        -ms-flex-pack: start;
    }
    @else if ($value == flex-end) {
        -ms-flex-pack: end;
    }
    @else if ($value == space-between) {
        -ms-flex-pack: justify;
    }
    @else if ($value == space-around) {
        -ms-flex-pack: distribute;
    }
    @else {
        -ms-flex-pack: $value;
    }

    justify-content: $value;
}

@mixin align-content($value: stretch) {
    -webkit-align-content: $value;

    @if ($value == flex-start) {
        -ms-flex-line-pack: start;
    }
    @else if ($value == flex-end) {
        -ms-flex-line-pack: end;
    }
    @else {
        -ms-flex-line-pack: $value;
    }

    align-content: $value;
}

// Misc mixins
//----------------------------------------------------------------------

@mixin perspective($value) {
    perspective: $value;
    -webkit-perspective: $value;
}

@mixin backface-visibility($value) {
    backface-visibility: $value;
    -webkit-backface-visibility: $value;
}

@mixin transform($value) {
    transform: $value;
    -webkit-transform: $value;
}

@mixin transform-origin($x, $y) {
    transform-origin: $x $y;
    -webkit-transform-origin: $x $y;
}

@mixin background-size($value) {
    background-size: $value;
    -webkit-background-size: $value;
}

@mixin box-shadow($value) {
    box-shadow: $value;
    -webkit-box-shadow: $value;
}

@mixin text-shadow($value) {
    text-shadow: $value;
    -webkit-text-shadow: $value;
}

@mixin appearance($value) {
    appearance: $value;
    -moz-appearance: $value;
    -webkit-appearance: $value;
}

@mixin transition($transitions...) {
    $default: (compact($default-transition-property $default-transition-duration $default-transition-function $default-transition-delay),);
    $transitions: if(length($transitions) == 1 and type-of(nth($transitions, 1)) == list and list-separator(nth($transitions, 1)) == comma, nth($transitions, 1), $transitions);
    $transitions: set-arglist-default($transitions, $default);

    transition: $transitions;
    -webkit-transition: $transitions;
}

@mixin transition-delay($delays...) {
    $delays: set-arglist-default($delays, $default-transition-delay);

    transition-delay: $delays;
    -webkit-transition-delay: $delays;
}

@mixin user-select($value) {
    user-select: $value;
    -ms-user-select: $value;
    -webkit-user-select: $value;
}

@mixin keyframes($name) {
    @keyframes #{$name} { @content; }
    @-webkit-keyframes #{$name} { @content; }
    @-moz-keyframes #{$name} { @content; }
    @-ms-keyframes #{$name} { @content; }
}

@mixin animation($values) {
    animation: $values;
    -webkit-animation: $values;
    -ms-animation: $values;
}

@mixin box-sizing($value) {
    box-sizing: $value;
    -webkit-box-sizing: $value;
}